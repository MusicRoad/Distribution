{% extends "ClarolineCoreBundle:Resource:layout.html.twig" %}

{% block stylesheets %}
    {# Claroline CSS #}
    {{ parent() }}

    {# Resource styles #}
    <link rel="stylesheet" type="text/css" href="{{ themeAsset('claroline-distribution-plugin-music-book-song-resource.css') }}" />
{% endblock %}

{# Content of the Page #}
{% block content %}
    <div
        class="page-container song-container"
        data-song="{{ _resource | api_serialize | json_encode | raw | escape }}"
        data-resource-node="{{ _resource.resourceNode | api_serialize | json_encode | raw | escape }}"
    ></div>
{% endblock %}

{% block javascripts %}
    {# Claroline JS #}
    {{ parent() }}

    {# Translations #}
    <script src="{{ url('bazinga_jstranslation_js', { 'domain': 'resource' }) }}"></script>

    {# TODO : replace it by es6 imports when wavesurfer will release a new version (https://github.com/katspaugh/wavesurfer.js/pull/863) #}
    <script src="{{ asset('packages/wavesurfer.js/dist/wavesurfer.min.js') }}"></script>
    <script src="{{ asset('packages/wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js') }}"></script>

    {# Resource UI #}
    <script src="{{ hotAsset('dist/claroline-distribution-plugin-music-book-song-resource.js') }}"></script>
{% endblock %}
